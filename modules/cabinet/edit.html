<div class="add">
  <div class="add__wrapper">
    <h2 class="add__header"><?php if (isset($_SESSION['info'])) {echo $_SESSION['info']; unset($_SESSION['info']);} else echo 'Странциа редактирования произвдения'?></h2>
    <div class="add__nav">
      <a class="btn btn--link" href="/cabinet/cab">Вернуться в кабинет</a>
      <button form="addStory" class="btn btn--red" name="sub_form" type="submit" value="send">Сохранить правки</button>
    </div>
    <form id="addStory" name="addStory" action="" method = "post">
      <span class="add__select-desc">Выберите раздел для размещения</span>
      <select class="add__select" name="type">
        <option disabled>Выберите раздел для размещения</option>
        <option selected value="Юмористический рассказ">Юмористический рассказ</option>
        <option value="Анекдот">Анекдот</option>
        <option value="Несмешной анекдот">Несмешной анекдот</option>
      </select>
      <div class="add__error-name"></div>
      <input class="add__name" type="text" name="name" value="<?php echo $res['name']; ?>">
      <textarea class="add__preview" name="preview" wrap="hard" ><?php if (isset($res['preview'])) echo $res['preview']; ?></textarea>
      <div class="add__error-text"></div>
      <textarea class="add__text" wrap="hard" name="text"><?php echo $res['text'] ?></textarea>
    </form>
  </div>
</div>
<script>
var form = document.forms.addStory;
var errorText = document.querySelector('.add__error-text');
var errorName = document.querySelector('.add__error-name');

form.addEventListener('submit', function(){
  var text = form.elements.text.value;
  var name = form.elements.name.value;

  if (text.length == 0 ) {
    errorText.innerHTML = 'Ничего нет, добавьте сюда Ваше произведение';
    event.preventDefault();
  }else {
    errorText.innerHTML = '';
  }

  if (name.length == 0 ) {
    errorName.innerHTML = 'Укажите название Вашего произведения';
    event.preventDefault();
  }else {
    errorName.innerHtml = '';
  }
});
</script>
